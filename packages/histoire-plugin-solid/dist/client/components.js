import{template as y,memo as a,createComponent as s,insert as g}from"solid-js/web";import{createContext as l,createSignal as v,useContext as i,onMount as o,Show as f}from"solid-js";var p=y("<div><span>");const c=l(),d=l(),m=n=>a(()=>n.children),C=n=>{const[t,e]=v(0),r={story:n.story,variantIndex:t,incrementVariantIndex:()=>e(u=>u+1)};return s(d.Provider,{value:r,get children(){return n.children}})},V=n=>{const t=i(d);return o(()=>{if(t){const e=t.variantIndex(),r=t.story.variants[e];t.incrementVariantIndex(),r&&(console.log("[histoire-plugin-solid] MountVariant setting configReady on variant:",r.title),Object.assign(r,{slots:()=>({default:!0}),configReady:!0}))}}),(()=>{var e=p(),r=e.firstChild;return e.style.setProperty("padding","8px"),e.style.setProperty("border","1px dashed #ccc"),e.style.setProperty("border-radius","4px"),e.style.setProperty("margin","4px 0"),r.style.setProperty("color","#666"),r.style.setProperty("font-size","12px"),g(r,()=>n.title||"Variant"),e})()},P=n=>{const t=i(c);return o(()=>{t!=null&&t.story&&Object.assign(t.story,{slots:()=>({default:!0})})}),a(()=>n.children)},M=n=>{const t=i(c),e=()=>t!=null&&t.variant?t.variant.id===n.id||t.variant.title===n.title:!0;return o(()=>{t!=null&&t.variant&&e()&&(console.log("[histoire-plugin-solid] Setting configReady on variant:",t.variant.title),Object.assign(t.variant,{slots:()=>({default:!0}),configReady:!0}))}),s(f,{get when(){return e()},get children(){return n.children}})};export{c as HstContext,d as MountContext,m as MountStory,C as MountStoryWithContext,V as MountVariant,P as RenderStory,M as RenderVariant};
